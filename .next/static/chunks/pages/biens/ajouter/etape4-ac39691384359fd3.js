(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5599],{1612:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/biens/ajouter/etape4",function(){return a(4033)}])},4033:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Etape4}});var s=a(5893),n=a(7294),r=a(1163),i=a(9846);let o=["Chauffage individuel","Climatisation","Double vitrage","Fibre optique","Jardin","Terrasse","Balcon","Piscine","Garage","Cave","Ascenseur","Interphone","Portail automatique","Acc\xe8s PMR","S\xe9jour lumineux","Cuisine \xe9quip\xe9e","Cuisine am\xe9ricaine","Suite parentale","Combles am\xe9nageables","Alarme","Vue d\xe9gag\xe9e","Vue mer","Parking","Exposition Sud","Exposition Est","Exposition Nord","Exposition Ouest","Dernier \xe9tage","Plain-pied"];function Etape4(){let e=(0,r.useRouter)(),{id:t}=e.query,[a,c]=(0,n.useState)([]),[l,u]=(0,n.useState)(!1),[x,d]=(0,n.useState)(""),toggleOption=e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},handleSubmit=async()=>{let s=[...a];l&&x.trim()&&s.push(x.trim());let{error:n}=await i.O.from("biens").update({options:s}).eq("id",t);n?(console.error("❌ Erreur mise \xe0 jour :",n),alert("Erreur lors de la mise \xe0 jour")):(alert("✅ Options enregistr\xe9es avec succ\xe8s"),e.push("/biens/ajouter/etape5?id=".concat(t)))};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto bg-white p-8 mt-8 rounded-xl shadow space-y-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-orange-600 mb-4",children:"\uD83D\uDD27 \xc9tape 4 : Caract\xe9ristiques du bien"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-3 bg-orange-50 rounded p-3 shadow hover:bg-orange-100 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-orange-600",checked:a.includes(e),onChange:()=>toggleOption(e)}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e)),(0,s.jsxs)("label",{className:"flex items-start gap-3 bg-orange-50 rounded p-3 shadow hover:bg-orange-100 cursor-pointer col-span-2",children:[(0,s.jsx)("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-orange-600 mt-1",checked:l,onChange:e=>u(e.target.checked)}),(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700 mb-1 font-medium",children:"Autre option"}),l&&(0,s.jsx)("textarea",{placeholder:"Ex: Acc\xe8s direct lac, Panneaux solaires...",className:"border rounded p-2 text-sm w-full",value:x,onChange:e=>d(e.target.value)})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,s.jsx)("button",{onClick:()=>e.push("/biens/ajouter/etape3?id=".concat(t)),className:"text-sm text-orange-600 hover:underline",children:"⬅️ \xc9tape pr\xe9c\xe9dente"}),(0,s.jsx)("button",{onClick:handleSubmit,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded shadow",children:"✅ Enregistrer & Continuer"})]})]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=1612)}),_N_E=e.O()}]);