(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5774],{4676:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/biens/ancien-[id]",function(){return r(6812)}])},6812:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return FicheBien}});var t=r(5893),n=r(1163),i=r(7294),l=r(9846),c=r(5675),a=r.n(c),d=r(1664),o=r.n(d);function FicheBien(){var e;let s=(0,n.useRouter)(),{id:r}=s.query,[c,d]=(0,i.useState)(null),[u,x]=(0,i.useState)(!0),[h,p]=(0,i.useState)("");return((0,i.useEffect)(()=>{if(!r)return;let fetchData=async()=>{x(!0);let{data:e,error:s}=await l.O.from("biens").select("*").eq("id",r).single();if(!s){d(e);let{data:s}=l.O.storage.from("photos").getPublicUrl("cover-".concat(r,".jpg"));(null==s?void 0:s.publicUrl)&&p(s.publicUrl)}x(!1)};fetchData()},[r]),u)?(0,t.jsx)("p",{className:"p-6 text-gray-500",children:"Chargement..."}):c?(0,t.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-8 bg-white shadow-xl rounded-xl mt-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-orange-600",children:["\uD83C\uDFE1 ",c.titre]}),(0,t.jsx)(o(),{href:"/biens",className:"text-sm text-orange-600 hover:underline",children:"⬅️ Retour aux biens"})]}),h&&(0,t.jsx)("div",{className:"w-full h-72 relative overflow-hidden rounded-xl shadow",children:(0,t.jsx)(a(),{src:h,alt:"Photo de couverture",layout:"fill",objectFit:"cover"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-gray-800",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"\uD83D\uDCCD Ville :"})," ",c.ville]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"\uD83C\uDFF7️ Type :"})," ",c.type_bien]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"\uD83D\uDCD0 Surface :"})," ",c.surface_m2," m\xb2"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"\uD83D\uDCB0 Prix :"})," ",null===(e=c.prix)||void 0===e?void 0:e.toLocaleString()," €"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"\uD83D\uDD0B DPE :"})," ",c.dpe]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"\uD83E\uDDFE Honoraires :"})," ",c.honoraires," € ","acqu\xe9reur"===c.charge_honoraires?"(charge acqu\xe9reur)":"(charge vendeur)"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"\uD83D\uDED1 Statut :"})," ",c.statut]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"\uD83D\uDD16 Mandat :"})," ",c.mandat]})]}),c.description&&(0,t.jsxs)("div",{className:"p-4 bg-orange-50 border-l-4 border-orange-400 rounded",children:[(0,t.jsx)("h3",{className:"font-semibold text-orange-700 mb-1",children:"\uD83D\uDCDD Description du bien"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl border",children:[(0,t.jsx)("h3",{className:"font-semibold text-orange-700 mb-3",children:"✅ Options"}),(0,t.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-800 list-disc pl-5",children:Object.entries(c).map(e=>{let[s,r]=e;return s.startsWith("option_")&&!0===r?(0,t.jsx)("li",{children:s.replace("option_","").replace(/_/g," ")},s):null})})]})]}):(0,t.jsx)("p",{className:"p-6 text-red-600",children:"Bien introuvable."})}}},function(e){e.O(0,[1664,9774,2888,179],function(){return e(e.s=4676)}),_N_E=e.O()}]);