(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8711],{5272:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset",function(){return s(38)}])},38:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ResetPage}});var n=s(5893),a=s(7294),u=s(1163),r=s(9846);function ResetPage(){let e=(0,u.useRouter)(),[t,s]=(0,a.useState)(""),[i,l]=(0,a.useState)(!1),[o,d]=(0,a.useState)(""),[c,h]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=window.location.hash,t=new URLSearchParams(e.substring(1)).get("access_token");t?h(t):d("Token manquant ou invalide.")},[]);let handleReset=async s=>{s.preventDefault(),d("");let{data:n,error:a}=await r.O.auth.updateUser({password:t},{accessToken:c});if(a)return d(a.message);l(!0),setTimeout(()=>e.push("/login"),2e3)};return(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,n.jsxs)("form",{onSubmit:handleReset,className:"bg-white p-6 rounded shadow-md w-80 text-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDD10 Nouveau mot de passe"}),i?(0,n.jsx)("p",{className:"text-green-600",children:"Mot de passe modifi\xe9 ! Redirection..."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{className:"w-full border p-2 mb-2 rounded",type:"password",placeholder:"Nouveau mot de passe",value:t,onChange:e=>s(e.target.value),required:!0}),o&&(0,n.jsx)("p",{className:"text-red-600 text-sm mb-2",children:o}),(0,n.jsx)("button",{type:"submit",className:"bg-blue-600 text-white w-full py-2 rounded hover:bg-blue-700",children:"Valider"})]})]})})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=5272)}),_N_E=e.O()}]);