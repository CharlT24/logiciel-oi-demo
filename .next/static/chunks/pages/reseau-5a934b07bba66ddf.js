(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8261],{8121:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reseau",function(){return s(3122)}])},3122:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Reseau}});var a=s(5893),l=s(7294),r=s(9846),n=s(1664),i=s.n(n),u=s(5675),c=s.n(u);function Reseau(){let[e,t]=(0,l.useState)([]),[s,n]=(0,l.useState)([]),[u,o]=(0,l.useState)("");(0,l.useEffect)(()=>{fetchUtilisateurs()},[]);let fetchUtilisateurs=async()=>{let{data:e,error:s}=await r.O.from("utilisateurs").select("*");s?console.error("Erreur chargement utilisateurs :",s):(t(e),n(e))};return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-10 space-y-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-orange-600",children:"\uD83C\uDF10 Mon r\xe9seau"}),(0,a.jsx)("input",{type:"text",value:u,onChange:t=>{let s=t.target.value.toLowerCase();o(s),n(e.filter(e=>{var t,a;return(null===(t=e.nom)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(a=e.ville)||void 0===a?void 0:a.toLowerCase().includes(s))}))},placeholder:"\uD83D\uDD0D Recherche agent ou ville...",className:"border px-3 py-2 rounded-md text-sm shadow-sm"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:[0===s.length&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Aucun agent trouv\xe9."}),s.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col items-center text-center border",children:[(0,a.jsx)(c(),{src:e.photo_url||"/avatar.png",alt:e.nom,width:80,height:80,className:"rounded-full shadow mb-3"}),(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:e.nom}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["\uD83D\uDCCD ",e.ville||"Ville inconnue"]}),(0,a.jsx)(i(),{href:"/reseau/".concat(e.slug),className:"mt-3 text-sm text-orange-600 hover:underline",children:"\uD83D\uDD0D Voir sa fiche"})]},e.id))]})]})}}},function(e){e.O(0,[1664,9774,2888,179],function(){return e(e.s=8121)}),_N_E=e.O()}]);