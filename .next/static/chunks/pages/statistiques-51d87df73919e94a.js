(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5904],{3707:function(s,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/statistiques",function(){return t(3475)}])},3475:function(s,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Statistiques}});var i=t(5893),n=t(7294),o=t(9846),r=t(6495),a=t(3148);function Statistiques(){let[s,e]=(0,n.useState)({total:0,dispo:0,compromis:0,vendu:0});(0,n.useEffect)(()=>{let fetchStats=async()=>{let{data:{session:s}}=await o.O.auth.getSession();if(!s)return;let{data:t}=await o.O.from("biens").select("*").eq("agent_id",s.user.id),i=t.filter(s=>s.disponible&&!s.vendu&&!s.sous_compromis).length,n=t.filter(s=>s.sous_compromis).length,r=t.filter(s=>s.vendu).length;e({total:t.length,dispo:i,compromis:n,vendu:r})};fetchStats()},[]);let t={labels:["Disponibles","Sous compromis","Vendus"],datasets:[{label:"R\xe9partition des biens",data:[s.dispo,s.compromis,s.vendu],backgroundColor:["#3b82f6","#facc15","#10b981"],borderWidth:1}]};return(0,i.jsxs)("div",{className:"p-8 bg-gray-50 min-h-screen",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"\uD83D\uDCCA Statistiques"}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded shadow p-6 space-y-2",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold",children:"\uD83D\uDCE6 Biens"}),(0,i.jsxs)("p",{children:["Total : ",(0,i.jsx)("strong",{children:s.total})]}),(0,i.jsxs)("p",{children:["Disponibles : ",(0,i.jsx)("strong",{children:s.dispo})]}),(0,i.jsxs)("p",{children:["Sous compromis : ",(0,i.jsx)("strong",{children:s.compromis})]}),(0,i.jsxs)("p",{children:["Vendus : ",(0,i.jsx)("strong",{children:s.vendu})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded shadow p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCC8 Graphique"}),(0,i.jsx)(r.by,{data:t})]})]})]})}a.kL.register(a.qi,a.u,a.De)}},function(s){s.O(0,[2196,3853,9774,2888,179],function(){return s(s.s=3707)}),_N_E=s.O()}]);