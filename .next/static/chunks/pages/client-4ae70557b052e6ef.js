(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9610],{2225:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/client",function(){return t(9621)}])},312:function(e,s,t){"use strict";t.d(s,{Z:function(){return AdminNavbar}});var l=t(5893),n=t(1664),i=t.n(n);function AdminNavbar(){return(0,l.jsxs)("nav",{className:"bg-white shadow mb-6 px-4 py-3 flex justify-center space-x-4",children:[(0,l.jsx)(i(),{href:"/espace",className:"text-blue-600 hover:underline",children:"\uD83C\uDFE1 Espace"}),(0,l.jsx)(i(),{href:"/clients",className:"text-blue-600 hover:underline",children:"\uD83D\uDC65 Ajouter client"}),(0,l.jsx)(i(),{href:"/biens",className:"text-blue-600 hover:underline",children:"\uD83C\uDFE0 Ajouter bien"}),(0,l.jsx)(i(),{href:"/admin/utilisateurs",className:"text-blue-600 hover:underline",children:"\uD83D\uDEE0 Utilisateurs"})]})}},9621:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Clients}});var l=t(5893),n=t(7294),i=t(9846),r=t(1163);function Clients(){let[e,s]=(0,n.useState)(null),[t,a]=(0,n.useState)([]),c=(0,r.useRouter)();return(0,n.useEffect)(()=>{let fetchUserAndClients=async()=>{let{data:{session:e},error:t}=await i.O.auth.getSession();if(!e)return c.push("/login");s(e.user.id);let{data:l,error:n}=await i.O.from("clients").select("*").eq("agent_id",e.user.id);n?console.error("❌ Erreur chargement clients :",n):a(l||[])};fetchUserAndClients()},[]),(0,l.jsxs)("div",{className:"flex bg-gray-100 min-h-screen",children:[(0,l.jsxs)("aside",{className:"w-64 bg-white shadow-xl p-4 flex flex-col space-y-6 fixed h-full",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"LOGICIEL IMMO"}),(0,l.jsxs)("nav",{className:"flex flex-col space-y-2 mt-6",children:[(0,l.jsx)("a",{href:"/dashboard",className:"hover:text-blue-600",children:"\uD83C\uDFE0 Tableau de bord"}),(0,l.jsx)("a",{href:"/clients",className:"text-blue-600 font-semibold",children:"\uD83D\uDC65 Clients"}),(0,l.jsx)("a",{href:"/biens",className:"hover:text-blue-600",children:"\uD83C\uDFE1 Biens"})]})]}),(0,l.jsxs)("main",{className:"flex-1 ml-64 p-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"\uD83D\uDC65 Mes clients"}),(0,l.jsx)("a",{href:"/clients/ajouter",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"➕ Ajouter un client"})]}),0===t.length?(0,l.jsx)("p",{className:"text-gray-500",children:"Aucun client pour le moment."}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(e=>(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 space-y-2",children:[(0,l.jsx)("div",{className:"font-bold text-lg",children:e.nom}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["\uD83D\uDCCD ",e.ville_recherche]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["\uD83D\uDCB6 Budget : ",e.budget_min," € - ",e.budget_max," €"]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["\uD83C\uDFE0 Type : ",e.type_bien]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["\uD83D\uDCDE ",e.telephone]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["\uD83D\uDCE7 ",e.email]})]},e.id))})]})]})}t(312)}},function(e){e.O(0,[1664,9774,2888,179],function(){return e(e.s=2225)}),_N_E=e.O()}]);