(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3593],{6991:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/parametres",function(){return t(981)}])},981:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return AdminParametres}});var r=t(5893),l=t(7294),n=t(9846);function AdminParametres(){let[e,a]=(0,l.useState)([]),[t,s]=(0,l.useState)("");(0,l.useEffect)(()=>{let fetchParametres=async()=>{let{data:e}=await n.O.from("parametres").select("*").order("cle");a(e||[])};fetchParametres()},[]);let handleChange=(t,r)=>{let l=[...e];l[t].valeur=r,a(l)},handleSave=async()=>{for(let a of e)await n.O.from("parametres").upsert({cle:a.cle,valeur:a.valeur});alert("✅ Param\xe8tres sauvegard\xe9s.")},handleAddPortail=async()=>{t&&(await n.O.from("parametres").upsert({cle:"portail_".concat(t),valeur:"1"}),s(""),location.reload())};return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-orange-600",children:"⚙️ Param\xe8tres du CRM"}),e.map((e,a)=>(0,r.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,r.jsx)("label",{className:"w-1/3 text-sm font-medium",children:e.cle}),(0,r.jsx)("input",{type:"text",value:e.valeur,onChange:e=>handleChange(a,e.target.value),className:"input flex-1"})]},e.cle)),(0,r.jsx)("button",{onClick:handleSave,className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"\uD83D\uDCBE Sauvegarder"}),(0,r.jsxs)("div",{className:"pt-6",children:[(0,r.jsx)("h2",{className:"text-md font-semibold text-gray-700",children:"➕ Ajouter un portail"}),(0,r.jsxs)("div",{className:"flex gap-3 mt-2",children:[(0,r.jsx)("input",{className:"input",placeholder:"ex: bienici, seloger",value:t,onChange:e=>s(e.target.value)}),(0,r.jsx)("button",{onClick:handleAddPortail,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Ajouter"})]})]})]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=6991)}),_N_E=e.O()}]);