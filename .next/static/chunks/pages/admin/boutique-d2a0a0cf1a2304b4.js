(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{7417:function(e,t,u){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/boutique",function(){return u(146)}])},146:function(e,t,u){"use strict";u.r(t),u.d(t,{default:function(){return AdminBoutique}});var r=u(5893),i=u(7294),n=u(9846);function AdminBoutique(){let[e,t]=(0,i.useState)([]),[u,s]=(0,i.useState)({nom:"",description:"",prix:0,stock:0,image_url:""});(0,i.useEffect)(()=>{fetchProduits()},[]);let fetchProduits=async()=>{let{data:e,error:u}=await n.O.from("boutique").select("*");u||t(e)},ajouterProduit=async()=>{let{error:e}=await n.O.from("boutique").insert([u]);e?alert("❌ Erreur \xe0 l’ajout du produit"):(alert("✅ Produit ajout\xe9 !"),s({nom:"",description:"",prix:0,stock:0,image_url:""}),fetchProduits())},supprimerProduit=async e=>{let t=window.confirm("❌ Confirmer la suppression de ce produit ?");if(!t)return;let{error:u}=await n.O.from("boutique").delete().eq("id",e);u?alert("❌ Erreur \xe0 la suppression"):(alert("✅ Produit supprim\xe9 !"),fetchProduits())};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-orange-600",children:"⚙️ Admin Boutique"}),(0,r.jsxs)("div",{className:"space-y-4 bg-white p-4 rounded shadow",children:[(0,r.jsx)("input",{placeholder:"Nom",className:"input w-full",value:u.nom,onChange:e=>s({...u,nom:e.target.value})}),(0,r.jsx)("input",{placeholder:"Description",className:"input w-full",value:u.description,onChange:e=>s({...u,description:e.target.value})}),(0,r.jsx)("input",{placeholder:"Prix (€)",type:"number",className:"input w-full",value:u.prix,onChange:e=>s({...u,prix:Number(e.target.value)})}),(0,r.jsx)("input",{placeholder:"Stock",type:"number",className:"input w-full",value:u.stock,onChange:e=>s({...u,stock:Number(e.target.value)})}),(0,r.jsx)("input",{placeholder:"Image URL",className:"input w-full",value:u.image_url,onChange:e=>s({...u,image_url:e.target.value})}),(0,r.jsx)("button",{onClick:ajouterProduit,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Ajouter le produit"})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold mt-8",children:"\uD83D\uDCE6 Produits existants"}),(0,r.jsx)("ul",{className:"space-y-2",children:e.map(e=>(0,r.jsxs)("li",{className:"border p-2 rounded flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:e.nom})," — ",e.prix," € (",e.stock," en stock)"]}),(0,r.jsx)("button",{onClick:()=>supprimerProduit(e.id),className:"text-red-600 hover:underline",children:"\uD83D\uDDD1️ Supprimer"})]},e.id))})]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=7417)}),_N_E=e.O()}]);