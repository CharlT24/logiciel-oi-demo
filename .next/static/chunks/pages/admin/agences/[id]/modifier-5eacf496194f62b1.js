(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9593],{8127:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/agences/[id]/modifier",function(){return a(6360)}])},6360:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return ModifierAgence}});var l=a(5893),s=a(1163),t=a(7294),d=a(9846);function ModifierAgence(){let e=(0,s.useRouter)(),{id:n}=e.query,[a,r]=(0,t.useState)(null);(0,t.useEffect)(()=>{n&&d.O.from("agences").select("*").eq("id",n).single().then(e=>{let{data:n}=e;r(n)})},[n]);let handleChange=e=>{let{name:n,value:l,type:s,checked:t}=e.target;r({...a,[n]:"checkbox"===s?t:l})},handleSubmit=async l=>{l.preventDefault();let{error:s}=await d.O.from("agences").update(a).eq("id",n);s||e.push("/admin/agences")};return a?(0,l.jsxs)("div",{className:"p-6 max-w-xl mx-auto",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Modifier l'agence"}),(0,l.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,l.jsx)("input",{name:"nom",value:a.nom,placeholder:"Nom de l'agence",className:"w-full border p-2 rounded",onChange:handleChange,required:!0}),(0,l.jsx)("input",{name:"adresse",value:a.adresse,placeholder:"Adresse",className:"w-full border p-2 rounded",onChange:handleChange}),(0,l.jsx)("input",{name:"ville",value:a.ville,placeholder:"Ville",className:"w-full border p-2 rounded",onChange:handleChange}),(0,l.jsx)("input",{name:"code_postal",value:a.code_postal,placeholder:"Code postal",className:"w-full border p-2 rounded",onChange:handleChange}),(0,l.jsx)("input",{name:"telephone",value:a.telephone,placeholder:"T\xe9l\xe9phone",className:"w-full border p-2 rounded",onChange:handleChange}),(0,l.jsx)("input",{name:"email",value:a.email,placeholder:"Email",type:"email",className:"w-full border p-2 rounded",onChange:handleChange}),(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",name:"carte_t",checked:a.carte_t,onChange:handleChange})," Carte T (Agence)"]}),(0,l.jsx)("button",{type:"submit",className:"bg-orange-500 text-white px-4 py-2 rounded",children:"Enregistrer les modifications"})]})]}):(0,l.jsx)("p",{className:"p-6",children:"Chargement..."})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=8127)}),_N_E=e.O()}]);