(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1594],{6759:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients/partenaires/ajouter",function(){return t(8821)}])},8821:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return AjouterPartenaire}});var a=t(5893),r=t(7294),l=t(1163),i=t(9846);function AjouterPartenaire(){let e=(0,l.useRouter)(),[n,t]=(0,r.useState)(null),[o,s]=(0,r.useState)({nom:"",type:"",ville:"",email:"",telephone:"",structure:"",site_web:"",notes:""});(0,r.useEffect)(()=>{let fetchUser=async()=>{var n,a;let{data:r}=await i.O.auth.getSession(),l=null==r?void 0:null===(a=r.session)||void 0===a?void 0:null===(n=a.user)||void 0===n?void 0:n.id;if(!l)return e.push("/login");t(l)};fetchUser()},[]);let handleChange=e=>{let{name:n,value:t}=e.target;s(e=>({...e,[n]:t}))},handleSubmit=async t=>{if(t.preventDefault(),!o.nom||!o.type||!o.ville||!o.email||!o.telephone)return alert("Merci de remplir tous les champs obligatoires");let{error:a}=await i.O.from("partenaires").insert({...o,created_by:n,created_at:new Date().toISOString()});a?(console.error(a),alert("Erreur lors de l'ajout du partenaire")):e.push("/clients/partenaires")};return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-10",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-orange-600 mb-6",children:"➕ Ajouter un partenaire"}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,a.jsx)("input",{name:"nom",onChange:handleChange,value:o.nom,placeholder:"Nom complet *",className:"input",required:!0}),(0,a.jsxs)("select",{name:"type",onChange:handleChange,value:o.type,className:"input",required:!0,children:[(0,a.jsx)("option",{value:"",children:"-- Type de partenaire * --"}),(0,a.jsx)("option",{value:"Notaire",children:"Notaire"}),(0,a.jsx)("option",{value:"Diagnostiqueur",children:"Diagnostiqueur"}),(0,a.jsx)("option",{value:"Courtier",children:"Courtier"}),(0,a.jsx)("option",{value:"Architecte",children:"Architecte"}),(0,a.jsx)("option",{value:"Promoteur",children:"Promoteur"}),(0,a.jsx)("option",{value:"Constructeur",children:"Constructeur"}),(0,a.jsx)("option",{value:"G\xe9om\xe8tre",children:"G\xe9om\xe8tre"}),(0,a.jsx)("option",{value:"Avocat",children:"Avocat"}),(0,a.jsx)("option",{value:"Home staging",children:"Home staging"}),(0,a.jsx)("option",{value:"Travaux",children:"Entreprise de travaux"}),(0,a.jsx)("option",{value:"Gestionnaire",children:"Gestionnaire de patrimoine"})]}),(0,a.jsx)("input",{name:"ville",onChange:handleChange,value:o.ville,placeholder:"Ville *",className:"input",required:!0}),(0,a.jsx)("input",{name:"email",onChange:handleChange,value:o.email,placeholder:"Email *",type:"email",className:"input",required:!0}),(0,a.jsx)("input",{name:"telephone",onChange:handleChange,value:o.telephone,placeholder:"T\xe9l\xe9phone *",className:"input",required:!0}),(0,a.jsx)("input",{name:"structure",onChange:handleChange,value:o.structure,placeholder:"Nom de la soci\xe9t\xe9 (optionnel)",className:"input"}),(0,a.jsx)("input",{name:"site_web",onChange:handleChange,value:o.site_web,placeholder:"Site web (optionnel)",className:"input"}),(0,a.jsx)("textarea",{name:"notes",onChange:handleChange,value:o.notes,rows:"4",placeholder:"Notes compl\xe9mentaires...",className:"input"}),(0,a.jsx)("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"✅ Enregistrer le partenaire"})]})]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=6759)}),_N_E=e.O()}]);