(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4436],{3651:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients/partenaires/modifier",function(){return a(7702)}])},7702:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return ModifierPartenaire}});var t=a(5893),r=a(7294),i=a(1163),l=a(9846);function ModifierPartenaire(){let e=(0,i.useRouter)(),{id:n}=e.query,[a,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!n)return;let fetchData=async()=>{let{data:e,error:a}=await l.O.from("partenaires").select("*").eq("id",n).single();if(a){alert("Erreur de chargement du partenaire");return}o(e)};fetchData()},[n]);let handleChange=e=>{let{name:n,value:a}=e.target;o(e=>({...e,[n]:a}))},handleSubmit=async t=>{t.preventDefault();let{error:r}=await l.O.from("partenaires").update({...a,updated_at:new Date().toISOString()}).eq("id",n);r?(alert("Erreur lors de la modification"),console.error(r)):e.push("/clients/partenaires")};return a?(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-10",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-orange-600 mb-6",children:"✏️ Modifier le partenaire"}),(0,t.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,t.jsx)("input",{name:"nom",onChange:handleChange,value:a.nom,placeholder:"Nom complet *",className:"input",required:!0}),(0,t.jsxs)("select",{name:"type",onChange:handleChange,value:a.type,className:"input",required:!0,children:[(0,t.jsx)("option",{value:"",children:"-- Type de partenaire * --"}),(0,t.jsx)("option",{value:"Notaire",children:"Notaire"}),(0,t.jsx)("option",{value:"Diagnostiqueur",children:"Diagnostiqueur"}),(0,t.jsx)("option",{value:"Courtier",children:"Courtier"}),(0,t.jsx)("option",{value:"Architecte",children:"Architecte"}),(0,t.jsx)("option",{value:"Promoteur",children:"Promoteur"}),(0,t.jsx)("option",{value:"Constructeur",children:"Constructeur"}),(0,t.jsx)("option",{value:"G\xe9om\xe8tre",children:"G\xe9om\xe8tre"}),(0,t.jsx)("option",{value:"Avocat",children:"Avocat"}),(0,t.jsx)("option",{value:"Home staging",children:"Home staging"}),(0,t.jsx)("option",{value:"Travaux",children:"Entreprise de travaux"}),(0,t.jsx)("option",{value:"Gestionnaire",children:"Gestionnaire de patrimoine"})]}),(0,t.jsx)("input",{name:"ville",onChange:handleChange,value:a.ville,placeholder:"Ville *",className:"input",required:!0}),(0,t.jsx)("input",{name:"email",onChange:handleChange,value:a.email,placeholder:"Email *",type:"email",className:"input",required:!0}),(0,t.jsx)("input",{name:"telephone",onChange:handleChange,value:a.telephone,placeholder:"T\xe9l\xe9phone *",className:"input",required:!0}),(0,t.jsx)("input",{name:"structure",onChange:handleChange,value:a.structure,placeholder:"Nom de la soci\xe9t\xe9 (optionnel)",className:"input"}),(0,t.jsx)("input",{name:"site_web",onChange:handleChange,value:a.site_web,placeholder:"Site web (optionnel)",className:"input"}),(0,t.jsx)("textarea",{name:"notes",onChange:handleChange,value:a.notes,rows:"4",placeholder:"Notes compl\xe9mentaires...",className:"input"}),(0,t.jsx)("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"\uD83D\uDCBE Enregistrer les modifications"})]})]}):(0,t.jsx)("p",{className:"text-center p-10",children:"Chargement..."})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=3651)}),_N_E=e.O()}]);