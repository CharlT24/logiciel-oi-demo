(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8229],{7224:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients/acquereurs/modifier/[id]",function(){return n(2858)}])},2858:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return ModifierAcquereur}});var t=n(5893),a=n(7294),u=n(1163),l=n(9846),i=n(1664),s=n.n(i);function ModifierAcquereur(){let e=(0,u.useRouter)(),{id:r}=e.query,[n,i]=(0,a.useState)({nom:"",ville_recherche:"",budget_min:"",budget_max:"",type_bien:""}),[c,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(!r)return;let fetchClient=async()=>{let{data:e,error:n}=await l.O.from("clients").select("*").eq("id",r).single();n?console.error("Erreur chargement acqu\xe9reur:",n):i({nom:e.nom||"",ville_recherche:e.ville_recherche||"",budget_min:e.budget_min||"",budget_max:e.budget_max||"",type_bien:e.type_bien||""}),d(!1)};fetchClient()},[r]);let handleChange=e=>{let{name:r,value:n}=e.target;i(e=>({...e,[r]:n}))},handleSubmit=async t=>{if(t.preventDefault(),!r)return;let{error:a}=await l.O.from("clients").update(n).eq("id",r);a?(alert("Erreur lors de la mise \xe0 jour"),console.error(a)):(alert("✅ Acqu\xe9reur mis \xe0 jour avec succ\xe8s"),e.push("/clients/acquereurs"))};return c?(0,t.jsx)("p",{className:"text-center py-10 text-gray-500",children:"Chargement..."}):(0,t.jsxs)("div",{className:"max-w-2xl mx-auto py-10 space-y-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-orange-600",children:"✏️ Modifier Acqu\xe9reur"}),(0,t.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4 bg-white p-6 rounded-xl shadow",children:[(0,t.jsx)("input",{type:"text",name:"nom",value:n.nom,onChange:handleChange,placeholder:"Nom complet",className:"border p-2 rounded w-full",required:!0}),(0,t.jsx)("input",{type:"text",name:"ville_recherche",value:n.ville_recherche,onChange:handleChange,placeholder:"Ville recherch\xe9e",className:"border p-2 rounded w-full"}),(0,t.jsx)("input",{type:"number",name:"budget_min",value:n.budget_min,onChange:handleChange,placeholder:"Budget minimum",className:"border p-2 rounded w-full"}),(0,t.jsx)("input",{type:"number",name:"budget_max",value:n.budget_max,onChange:handleChange,placeholder:"Budget maximum",className:"border p-2 rounded w-full"}),(0,t.jsx)("input",{type:"text",name:"type_bien",value:n.type_bien,onChange:handleChange,placeholder:"Type de bien",className:"border p-2 rounded w-full"}),(0,t.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,t.jsx)(s(),{href:"/clients/acquereurs",className:"text-sm text-orange-600 hover:underline",children:"⬅️ Retour"}),(0,t.jsx)("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded",children:"✅ Enregistrer"})]})]})]})}}},function(e){e.O(0,[1664,9774,2888,179],function(){return e(e.s=7224)}),_N_E=e.O()}]);