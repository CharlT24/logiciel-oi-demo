(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8363],{8025:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients/acquereurs/ajouter",function(){return a(3269)}])},3269:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return AjouterAcquereur}});var l=a(5893),t=a(7294),r=a(1163),s=a(9846);function AjouterAcquereur(){let e=(0,r.useRouter)(),[n,a]=(0,t.useState)({}),[i,u]=(0,t.useState)([]),[c,o]=(0,t.useState)(""),handleChange=e=>{let{name:n,value:l}=e.target;a(e=>({...e,[n]:l}))},addMotCle=()=>{let e=c.trim();""===e||i.includes(e)||(u([...i,e]),o(""))},removeMotCle=e=>{u(i.filter((n,a)=>a!==e))},handleSubmit=async a=>{a.preventDefault();let{nom:l,email:t,telephone:r,budget_min:u,budget_max:c,surface_min:o}=n;if(!l||!t||!r||!u||!c||!o)return alert("Tous les champs obligatoires doivent \xeatre remplis.");let{error:d}=await s.O.from("clients").insert([{nom:l,email:t,telephone:r,type_bien:n.type_bien||null,ville_recherche:n.ville_recherche||null,budget_min:parseInt(u),budget_max:parseInt(c),surface_min:parseInt(o),profil:n.profil||null,canal_entree:n.canal_entree||null,notes:n.notes||null,mots_cles:i,type:"acquereur"}]);d?(console.error(d),alert("Erreur lors de l'ajout ❌")):(alert("Client acqu\xe9reur ajout\xe9 ✅"),e.push("/clients/acquereur"))};return(0,l.jsxs)("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-xl shadow space-y-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-orange-600",children:"➕ Ajouter un acqu\xe9reur"}),(0,l.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83D\uDCC7 Identit\xe9"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("input",{name:"nom",value:n.nom||"",onChange:handleChange,className:"input",placeholder:"Nom complet *",required:!0}),(0,l.jsx)("input",{name:"email",value:n.email||"",onChange:handleChange,className:"input",placeholder:"Email *",required:!0}),(0,l.jsx)("input",{name:"telephone",value:n.telephone||"",onChange:handleChange,className:"input",placeholder:"T\xe9l\xe9phone *",required:!0})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83C\uDFE1 Crit\xe8res de recherche"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("input",{name:"type_bien",value:n.type_bien||"",onChange:handleChange,className:"input",placeholder:"Type de bien"}),(0,l.jsx)("input",{name:"ville_recherche",value:n.ville_recherche||"",onChange:handleChange,className:"input",placeholder:"Ville recherch\xe9e"}),(0,l.jsx)("input",{type:"number",name:"budget_min",value:n.budget_min||"",onChange:handleChange,className:"input",placeholder:"Budget minimum (€)",required:!0}),(0,l.jsx)("input",{type:"number",name:"budget_max",value:n.budget_max||"",onChange:handleChange,className:"input",placeholder:"Budget maximum (€)",required:!0}),(0,l.jsx)("input",{type:"number",name:"surface_min",value:n.surface_min||"",onChange:handleChange,className:"input",placeholder:"Surface min. (m\xb2)",required:!0})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1 font-medium",children:"\uD83D\uDD11 Mots-cl\xe9s"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:i.map((e,n)=>(0,l.jsxs)("span",{className:"bg-orange-100 px-3 py-1 rounded-full",children:[e," ",(0,l.jsx)("button",{type:"button",onClick:()=>removeMotCle(n),children:"\xd7"})]},n))}),(0,l.jsx)("input",{type:"text",className:"input",placeholder:"ex: Musicien, Investisseur, etc.",value:c,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),addMotCle())}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83E\uDDE0 Informations compl\xe9mentaires"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("input",{name:"profil",value:n.profil||"",onChange:handleChange,className:"input",placeholder:"Profil (investisseur, primo-acc\xe9dant…)"}),(0,l.jsx)("input",{name:"canal_entree",value:n.canal_entree||"",onChange:handleChange,className:"input",placeholder:"Canal d'entr\xe9e (site, agence…)"})]}),(0,l.jsx)("textarea",{name:"notes",value:n.notes||"",onChange:handleChange,className:"w-full border rounded-lg px-4 py-2 mt-4",rows:4,placeholder:"Notes, remarques..."})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)("button",{type:"submit",className:"bg-orange-600 text-white px-6 py-2 rounded hover:bg-orange-700",children:"\uD83D\uDCBE Enregistrer"})})]})]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=8025)}),_N_E=e.O()}]);