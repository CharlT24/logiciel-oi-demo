(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1034],{8374:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients/acquereurs/modifier",function(){return a(2353)}])},2353:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return ModifierClient}});var l=a(5893),t=a(7294),i=a(1163),r=a(9846);function ModifierClient(){let e=(0,i.useRouter)(),[n,a]=(0,t.useState)({}),[s,u]=(0,t.useState)(!0),d=e.query.id,c=d?parseInt(d.toString().split(":").pop()):null;(0,t.useEffect)(()=>{if(!c)return;let fetchClient=async()=>{let{data:e,error:n}=await r.O.from("clients").select("*").eq("id",c).single();n||a(e),u(!1)};fetchClient()},[c]);let handleChange=e=>{let{name:n,value:l}=e.target;a(e=>({...e,[n]:l}))},handleSubmit=async a=>{a.preventDefault();let{error:l}=await r.O.from("clients").update({...n,budget_min:parseInt(n.budget_min),budget_max:parseInt(n.budget_max),surface_min:parseInt(n.surface_min)}).eq("id",c);l?(alert("Erreur lors de la modification ❌"),console.error(l)):(alert("Client modifi\xe9 ✅"),e.push("/clients/acquereurs"))};return s?(0,l.jsx)("p",{className:"text-center mt-10",children:"Chargement…"}):(0,l.jsxs)("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-xl shadow space-y-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-orange-600",children:"✏️ Modifier l’acqu\xe9reur"}),(0,l.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("input",{name:"nom",value:n.nom||"",onChange:handleChange,className:"input",placeholder:"Nom complet *",required:!0}),(0,l.jsx)("input",{name:"email",value:n.email||"",onChange:handleChange,className:"input",placeholder:"Email *",required:!0}),(0,l.jsx)("input",{name:"telephone",value:n.telephone||"",onChange:handleChange,className:"input",placeholder:"T\xe9l\xe9phone *",required:!0})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("input",{name:"type_bien",value:n.type_bien||"",onChange:handleChange,className:"input",placeholder:"Type de bien"}),(0,l.jsx)("input",{name:"ville_recherche",value:n.ville_recherche||"",onChange:handleChange,className:"input",placeholder:"Ville recherch\xe9e"}),(0,l.jsx)("input",{type:"number",name:"budget_min",value:n.budget_min||"",onChange:handleChange,className:"input",placeholder:"Budget minimum (€)"}),(0,l.jsx)("input",{type:"number",name:"budget_max",value:n.budget_max||"",onChange:handleChange,className:"input",placeholder:"Budget maximum (€)"}),(0,l.jsx)("input",{type:"number",name:"surface_min",value:n.surface_min||"",onChange:handleChange,className:"input",placeholder:"Surface minimale (m\xb2)"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("input",{name:"profil",value:n.profil||"",onChange:handleChange,className:"input",placeholder:"Profil"}),(0,l.jsx)("input",{name:"canal_entree",value:n.canal_entree||"",onChange:handleChange,className:"input",placeholder:"Canal d'entr\xe9e"})]}),(0,l.jsx)("textarea",{name:"notes",value:n.notes||"",onChange:handleChange,className:"w-full border rounded-lg px-4 py-2 mt-4",rows:4,placeholder:"Notes..."}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)("button",{type:"submit",className:"bg-orange-600 text-white px-6 py-2 rounded hover:bg-orange-700",children:"\uD83D\uDCBE Enregistrer"})})]})]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=8374)}),_N_E=e.O()}]);