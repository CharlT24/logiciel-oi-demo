(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8954],{2760:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/utilisateurs/modifier",function(){return n(7313)}])},7313:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return ModifierUtilisateur}});var l=n(5893),t=n(7294),r=n(1163),s=n(9846);function ModifierUtilisateur(){let e=(0,r.useRouter)(),{id:a}=e.query,[n,o]=(0,t.useState)({nom:"",prenom:"",telephone:"",email_contact:"",url_bareme:"",pays:"",ville:"",code_postal:"",adresse:"",siret:"",rsac:""});(0,t.useEffect)(()=>{a&&fetchUtilisateur(a)},[a]);let fetchUtilisateur=async e=>{let{data:a,error:n}=await s.O.from("utilisateurs").select("*").eq("id",e).single();a&&o({nom:a.nom||"",prenom:a.prenom||"",telephone:a.telephone||"",email_contact:a.email_contact||"",url_bareme:a.url_bareme||"",pays:a.pays||"",ville:a.ville||"",code_postal:a.code_postal||"",adresse:a.adresse||"",siret:a.siret||"",rsac:a.rsac||""}),n&&console.error("Erreur utilisateur :",n)},handleChange=e=>{let{name:a,value:n}=e.target;o(e=>({...e,[a]:n}))},handleSubmit=async l=>{l.preventDefault();let{error:t}=await s.O.from("utilisateurs").update(n).eq("id",a);t?(console.error("Erreur mise \xe0 jour :",t),alert("❌ Erreur lors de la mise \xe0 jour")):(alert("✅ Profil mis \xe0 jour avec succ\xe8s !"),e.push("/reseau"))};return(0,l.jsxs)("div",{className:"max-w-4xl mx-auto p-8 bg-white shadow rounded-xl space-y-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-orange-700",children:"\uD83D\uDEE0 Modifier le profil de l'utilisateur"}),(0,l.jsxs)("form",{onSubmit:handleSubmit,className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-gray-700",children:[(0,l.jsx)(Input,{label:"Nom",name:"nom",value:n.nom,onChange:handleChange}),(0,l.jsx)(Input,{label:"Pr\xe9nom",name:"prenom",value:n.prenom,onChange:handleChange}),(0,l.jsx)(Input,{label:"T\xe9l\xe9phone",name:"telephone",value:n.telephone,onChange:handleChange}),(0,l.jsx)(Input,{label:"Email de contact",name:"email_contact",value:n.email_contact,onChange:handleChange}),(0,l.jsx)(Input,{label:"URL bar\xe8me honoraires",name:"url_bareme",value:n.url_bareme,onChange:handleChange}),(0,l.jsx)(Input,{label:"Pays",name:"pays",value:n.pays,onChange:handleChange}),(0,l.jsx)(Input,{label:"Ville",name:"ville",value:n.ville,onChange:handleChange}),(0,l.jsx)(Input,{label:"Code postal",name:"code_postal",value:n.code_postal,onChange:handleChange}),(0,l.jsx)(Input,{label:"Adresse",name:"adresse",value:n.adresse,onChange:handleChange}),(0,l.jsx)(Input,{label:"SIRET",name:"siret",value:n.siret,onChange:handleChange}),(0,l.jsx)(Input,{label:"Num\xe9ro RSAC",name:"rsac",value:n.rsac,onChange:handleChange}),(0,l.jsx)("div",{className:"col-span-full",children:(0,l.jsx)("button",{type:"submit",className:"px-5 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded shadow",children:"\uD83D\uDCBE Enregistrer"})})]})]})}function Input(e){let{label:a,name:n,value:t,onChange:r}=e;return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("label",{htmlFor:n,className:"font-medium mb-1",children:a}),(0,l.jsx)("input",{id:n,name:n,value:t,onChange:r,className:"border border-gray-300 rounded px-3 py-2"})]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=2760)}),_N_E=e.O()}]);