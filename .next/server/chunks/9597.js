exports.id=9597,exports.ids=[9597],exports.modules={8980:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Layout});var s=n(997),o=n(6689),r=n(1163),l=n(9846),a=n(5675),i=n.n(a);function Layout({children:e}){let t=(0,r.useRouter)(),[n,a]=(0,o.useState)(!1),[u,c]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{let fetchUser=async()=>{let{data:{session:e}}=await l.O.auth.getSession(),t=e?.user?.id;if(t){let{data:e}=await l.O.from("utilisateurs").select("role").eq("id",t).single();e?.role==="admin"&&a(!0)}};fetchUser(),c(!0)},[]),["/login","/register"].includes(t.pathname))?s.jsx("main",{children:e}):u?(0,s.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-orange-50 to-white text-gray-800 font-inter",children:[(0,s.jsxs)("aside",{className:"w-64 bg-white p-6 shadow-xl rounded-tr-3xl rounded-br-3xl border-r border-gray-200 space-y-4 transition-all",children:[(0,s.jsxs)("div",{className:"flex items-center justify-start cursor-pointer mb-6",onClick:()=>t.push("/dashboard"),children:[s.jsx(i(),{src:"/logo.png",alt:"Logo",width:40,height:40,className:"mr-2"}),s.jsx("span",{className:"text-xl font-extrabold text-orange-500 tracking-tight",children:"Mon Agence"})]}),s.jsx("button",{onClick:()=>t.push("/dashboard"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83D\uDCCA Tableau de bord"}),s.jsx("button",{onClick:()=>t.push("/clients"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83D\uDC65 Clients"}),s.jsx("button",{onClick:()=>t.push("/biens"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83C\uDFE1 Biens"}),s.jsx("button",{onClick:()=>t.push("/mandats"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83E\uDDFE Num\xe9ros de mandat"}),s.jsx("button",{onClick:()=>t.push("/immopro"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83C\uDFE2 immopro"}),s.jsx("button",{onClick:()=>t.push("/rapprochement"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83D\uDD17 Rapprochement"}),s.jsx("button",{onClick:()=>t.push("/agents"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83E\uDDD1‍\uD83D\uDCBC Agents"}),s.jsx("button",{onClick:()=>t.push("/export"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83D\uDCE4 Export"}),s.jsx("button",{onClick:()=>t.push("/boutique"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83D\uDED2 Boutique"}),n&&s.jsx("button",{onClick:()=>t.push("/agenda"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83D\uDCC5 Agenda"}),s.jsx("button",{onClick:()=>window.open("https://www.a2sformation.com","_blank"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83C\uDF93 Formation"}),s.jsx("button",{onClick:()=>t.push("/parametres"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"⚙️ Param\xe8tres"}),n&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>t.push("/prospects"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"\uD83D\uDCEC Prospects"}),s.jsx("button",{onClick:()=>t.push("/crypto"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"₿ Crypto"}),s.jsx("button",{onClick:()=>t.push("/admin"),className:"block w-full text-left py-2 px-3 rounded hover:bg-orange-100 transition",children:"⚙️ Admin"})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-4 space-y-2",children:[s.jsx("button",{onClick:async()=>{await l.O.auth.signOut(),t.push("/login")},className:"block w-full text-left py-2 px-3 rounded text-red-600 hover:bg-red-100 transition",children:"\uD83D\uDEAA D\xe9connexion"}),(0,s.jsxs)("div",{className:"text-xs text-gray-400 mt-2 space-x-2 text-center",children:[s.jsx("a",{href:"/mentions",className:"hover:underline",children:"Mentions l\xe9gales"})," ","|"," ",s.jsx("a",{href:"/privacy",className:"hover:underline",children:"Confidentialit\xe9"})," ","|"," ",s.jsx("a",{href:"/terms",className:"hover:underline",children:"CGU"})]})]})]}),s.jsx("main",{className:"flex-1 p-8 bg-white rounded-tl-3xl shadow-inner overflow-y-auto relative",children:e}),s.jsx("button",{onClick:()=>{window.open("https://cdn.botpress.cloud/webchat/v2.3/shareable.html?configUrl=https://files.bpcontent.cloud/2025/04/12/14/20250412141501-0QE2INQG.json","_blank")},className:"fixed bottom-6 right-6 z-50 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-full shadow-lg",children:"\uD83E\uDD16 Besoin d'aide ?"})]}):s.jsx("div",{children:"Loading..."})}},9846:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var s=n(2885);let o=globalThis.supabase||(0,s.createClient)("https://fkavtsofmglifzalclyn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrYXZ0c29mbWdsaWZ6YWxjbHluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI5MDgzNDIsImV4cCI6MjA1ODQ4NDM0Mn0.vN8-2RzyVu_2X4lWT4Uqa6aI3OYuAcIFFuMeGS5Po1Y")},9597:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>App});var s=n(997),o=n(6689),r=n(4001),l=n(6749),a=n(1649),i=n(8980);function App({Component:e,pageProps:t}){let[n]=(0,o.useState)(()=>(0,r.createPagesBrowserClient)()),u=e.getLayout||(e=>s.jsx(i.Z,{children:e}));return s.jsx(a.SessionProvider,{session:t.session,children:s.jsx(l.SessionContextProvider,{supabaseClient:n,initialSession:t.initialSession,children:u(s.jsx(e,{...t}))})})}n(6764)},6764:()=>{}};