"use strict";(()=>{var e={};e.id=4719,e.ids=[4719],e.modules={2885:e=>{e.exports=require("@supabase/supabase-js")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3089:(e,r,a)=>{a.r(r),a.d(r,{config:()=>l,default:()=>u,routeModule:()=>c});var s={};a.r(s),a.d(s,{default:()=>handler});var t=a(1802),i=a(7153),o=a(6249),n=a(2678);async function handler(e,r){if("POST"!==e.method)return r.status(405).json({error:"M\xe9thode non autoris\xe9e"});let{portail:a,url:s,username:t,password:i,destination:o,autoExport:u}=e.body;if(!a)return r.status(400).json({error:"Portail manquant"});let{data:l,error:c}=await n.O.from("portails_config").upsert([{portail:a,url:s,username:t,password:i,destination:o,auto_export:u}],{onConflict:["portail"]});return c?(console.error("Erreur Supabase :",c),r.status(500).json({error:"\xc9chec enregistrement"})):r.status(200).json({success:!0})}let u=(0,o.l)(s,"default"),l=(0,o.l)(s,"config"),c=new t.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/export/save-credentials",pathname:"/api/export/save-credentials",bundlePath:"",filename:""},userland:s})},2678:(e,r,a)=>{a.d(r,{O:()=>t});var s=a(2885);let t=globalThis.supabase||(0,s.createClient)("https://fkavtsofmglifzalclyn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrYXZ0c29mbWdsaWZ6YWxjbHluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI5MDgzNDIsImV4cCI6MjA1ODQ4NDM0Mn0.vN8-2RzyVu_2X4lWT4Uqa6aI3OYuAcIFFuMeGS5Po1Y")}};var r=require("../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),a=r.X(0,[4222],()=>__webpack_exec__(3089));module.exports=a})();