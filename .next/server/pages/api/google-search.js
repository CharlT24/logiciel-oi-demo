"use strict";(()=>{var e={};e.id=7961,e.ids=[7961],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},5462:e=>{e.exports=import("puppeteer")},2101:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>u,default:()=>c,routeModule:()=>d});var o=t(1802),s=t(7153),n=t(6249),i=t(2908),l=e([i]);i=(l.then?(await l)():l)[0];let c=(0,n.l)(i,"default"),u=(0,n.l)(i,"config"),d=new o.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/google-search",pathname:"/api/google-search",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},2908:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>handler});var o=t(5462),s=e([o]);async function handler(e,a){let{ville:t="Paris",budget:r=3e5,type:s="maison"}=e.query,n=`${s} \xe0 vendre ${t} ${r}€`,i=`https://www.google.com/search?q=${encodeURIComponent(n)}`;try{let e=await o.default.launch({headless:"new",args:["--no-sandbox","--disable-setuid-sandbox"]}),t=await e.newPage();await t.setUserAgent("Mozilla/5.0 (Windows NT 10.0; Win64; x64)"),await t.goto(i,{waitUntil:"domcontentloaded",timeout:2e4}),await new Promise(e=>setTimeout(e,1500)),await t.waitForSelector("div.g",{timeout:1e4}).catch(()=>{console.warn("⚠️ Aucun r\xe9sultat Google d\xe9tect\xe9.")});let r=await t.evaluate(()=>{let e=document.querySelectorAll("div.g"),a=[];return e.forEach(e=>{let t=e.querySelector("h3")?.innerText,r=e.querySelector("a")?.href;t&&r&&a.push({title:t,link:r})}),a.slice(0,5)});await e.close(),a.status(200).json({results:r})}catch(e){console.error("❌ Erreur Google Search:",e.message),a.status(500).json({error:e.message})}}o=(s.then?(await s)():s)[0],r()}catch(e){r(e)}})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[4222],()=>__webpack_exec__(2101));module.exports=t})();